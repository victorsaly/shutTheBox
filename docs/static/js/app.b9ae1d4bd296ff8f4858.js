webpackJsonp([1],{"0KfL":function(e,t){},"2mV7":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("gNcp"),s={};n.keys().forEach(function(e){"./index.js"!==e&&(s[e.replace(/(\.\/|\.js)/g,"")]=n(e).default)}),t.default=s},"7YgM":function(e,t){e.exports={name:"shut-the-cube",version:"1.0.2",description:"Shut The Cube App",author:"Victor Saly <info@victorsaly.com>",homepage:"https://github.com/victorsaly/shutTheBox",private:!0,scripts:{dev:"webpack-dev-server --host 0.0.0.0 --inline --progress --config build/webpack.dev.conf.js",start:"npm run dev",unit:"jest --config test/unit/jest.conf.js --coverage",test:"npm run unit",deploy:"node ./node_modules/vue-gh-pages/index.js",build:"node build/build.js"},dependencies:{"add-to-homescreen":"^3.2.6","animate.css":"^3.6.1",firebase:"^4.12.1","js-combinatorics":"^0.5.3","sw-precache-webpack-plugin":"^0.11.5",tween:"^0.9.0","viewport-units-buggyfill":"^0.6.2",vue:"^2.5.2","vue-gh-pages":"^1.10.2","vue-router":"^3.0.1","vue-toasted":"^1.1.24",vuex:"^3.0.1"},devDependencies:{lodash:"^4.17.5",autoprefixer:"^7.1.2","babel-core":"^6.22.1","babel-helper-vue-jsx-merge-props":"^2.0.3","babel-jest":"^21.0.2","babel-loader":"^7.1.1","babel-plugin-dynamic-import-node":"^1.2.0","babel-plugin-syntax-jsx":"^6.18.0","babel-plugin-transform-es2015-modules-commonjs":"^6.26.0","babel-plugin-transform-runtime":"^6.22.0","babel-plugin-transform-vue-jsx":"^3.5.0","babel-preset-env":"^1.3.2","babel-preset-stage-2":"^6.22.0",chalk:"^2.0.1","copy-webpack-plugin":"^4.0.1","css-loader":"^0.28.0","extract-text-webpack-plugin":"^3.0.0","file-loader":"^1.1.4","friendly-errors-webpack-plugin":"^1.6.1","html-webpack-plugin":"^2.30.1",jest:"^22.0.4","jest-serializer-vue":"^0.3.0","node-notifier":"^5.1.2","optimize-css-assets-webpack-plugin":"^3.2.0",ora:"^1.2.0",portfinder:"^1.0.13","postcss-import":"^11.0.0","postcss-loader":"^2.0.8","postcss-url":"^7.2.1",rimraf:"^2.6.0",semver:"^5.3.0",shelljs:"^0.7.6",tailwindcss:"^0.5.2","uglifyjs-webpack-plugin":"^1.1.1","url-loader":"^0.5.8","vue-awesome":"^2.3.5","vue-jest":"^1.0.2","vue-loader":"^13.3.0","vue-style-loader":"^3.0.1","vue-template-compiler":"^2.5.2",webpack:"^3.6.0","webpack-bundle-analyzer":"^2.9.0","webpack-dev-server":"^2.9.1","webpack-merge":"^4.1.0"},engines:{node:">= 6.0.0",npm:">= 3.0.0"},browserslist:["> 1%","last 2 versions","not ie <= 8"]}},"D+VX":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("woOf"),s=i.n(n),a=i("//Fk"),r=i.n(a),o=i("Sazm"),l=i.n(o),u=i("YaEn"),c=i("TxU5"),d=(i.n(c),c.firebaseCfg),m={initFirebase:function(e){e.commit;l.a.initializeApp(d)},getFirebaseAuthToken:function(e){e.commit;return new r.a(function(e,t){null!=l.a.auth().firebaseAuthToken?e():t("Not authorized",null)})},getCurrentUser:function(e){var t=e.commit;return new r.a(function(e,i){var n=l.a.auth().currentUser;null!=n?(t("SET_USER",s()({},n)),t("SET_AUTH",!0),e()):(t("SET_USER",null),t("SET_AUTH",!1),i("Not authorized",null))})},logout:function(e){var t=e.commit;l.a.auth().signOut().then(function(){u.a.replace("login"),t("SET_USER",null),t("SET_AUTH",!1)})}};t.default={state:{authenticated:!1,user:null},mutations:{SET_AUTH:function(e,t){e.authenticated=t},LOGOUT:function(e){e.user=null,e.authenticated=!1},SET_USER:function(e,t){e.user=t}},actions:m,getters:{isAuthenticated:function(e){return e.authenticated},user:function(e){return e.user},authHeader:function(e){return null!=e.user?e.user.firebaseAuthToken:null}}}},D4uH:function(e,t,i){"use strict";var n={},s={name:"icon",props:{name:{type:String,validator:function(e){return e?e in n||(console.warn('Invalid prop: prop "name" is referring to an unregistered icon "'+e+'".\nPlease make sure you have imported this icon before using it.'),!1):(console.warn('Invalid prop: prop "name" is required.'),!1)}},scale:[Number,String],spin:Boolean,inverse:Boolean,pulse:Boolean,flip:{validator:function(e){return"horizontal"===e||"vertical"===e}},label:String},data:function(){return{x:!1,y:!1,childrenWidth:0,childrenHeight:0,outerScale:1}},computed:{normalizedScale:function(){var e=this.scale;return e=void 0===e?1:Number(e),isNaN(e)||e<=0?(console.warn('Invalid prop: prop "scale" should be a number over 0.',this),this.outerScale):e*this.outerScale},klass:function(){return{"fa-icon":!0,"fa-spin":this.spin,"fa-flip-horizontal":"horizontal"===this.flip,"fa-flip-vertical":"vertical"===this.flip,"fa-inverse":this.inverse,"fa-pulse":this.pulse}},icon:function(){return this.name?n[this.name]:null},box:function(){return this.icon?"0 0 "+this.icon.width+" "+this.icon.height:"0 0 "+this.width+" "+this.height},ratio:function(){if(!this.icon)return 1;var e=this.icon,t=e.width,i=e.height;return Math.max(t,i)/16},width:function(){return this.childrenWidth||this.icon&&this.icon.width/this.ratio*this.normalizedScale||0},height:function(){return this.childrenHeight||this.icon&&this.icon.height/this.ratio*this.normalizedScale||0},style:function(){return 1!==this.normalizedScale&&{fontSize:this.normalizedScale+"em"}},raw:function(){if(!this.icon||!this.icon.raw)return null;var e=this.icon.raw,t={};return e=e.replace(/\s(?:xml:)?id=(["']?)([^"')\s]+)\1/g,function(e,i,n){var s="fa-"+(a++).toString(16);return t[n]=s,' id="'+s+'"'}),e=e.replace(/#(?:([^'")\s]+)|xpointer\(id\((['"]?)([^')]+)\2\)\))/g,function(e,i,n,s){var a=i||s;return a&&t[a]?"#"+t[a]:e}),e}},mounted:function(){var e=this;if(!this.icon){this.$children.forEach(function(t){t.outerScale=e.normalizedScale});var t=0,i=0;this.$children.forEach(function(e){t=Math.max(t,e.width),i=Math.max(i,e.height)}),this.childrenWidth=t,this.childrenHeight=i,this.$children.forEach(function(e){e.x=(t-e.width)/2,e.y=(i-e.height)/2})}},register:function(e){for(var t in e){var i=e[t];i.paths||(i.paths=[]),i.d&&i.paths.push({d:i.d}),i.polygons||(i.polygons=[]),i.points&&i.polygons.push({points:i.points}),n[t]=i}},icons:n},a=870711;var r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("svg",{class:e.klass,style:e.style,attrs:{version:"1.1",role:e.label?"img":"presentation","aria-label":e.label,x:e.x,y:e.y,width:e.width,height:e.height,viewBox:e.box}},[e._t("default",[e.icon&&e.icon.paths?e._l(e.icon.paths,function(t,n){return i("path",e._b({key:"path-"+n},"path",t,!1))}):e._e(),e._v(" "),e.icon&&e.icon.polygons?e._l(e.icon.polygons,function(t,n){return i("polygon",e._b({key:"polygon-"+n},"polygon",t,!1))}):e._e(),e._v(" "),e.icon&&e.icon.raw?[i("g",{domProps:{innerHTML:e._s(e.raw)}})]:e._e()])],2)},staticRenderFns:[]};var o=i("VU/8")(s,r,!1,function(e){i("g2YT")},null,null);t.a=o.exports},"E+Jc":function(e,t){},NHnr:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("woOf"),s=i.n(n),a=i("7+uW"),r=(i("PBss"),{render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"warning-horizontal"},[t("div",{staticClass:"mb-4"},[t("img",{staticClass:"logo",attrs:{src:i("r1rV")}})]),this._v(" "),t("div",[t("p",[this._v(" This App is only viewable in vertical mode.")])])])}]}),o=i("VU/8")(null,r,!1,null,null,null).exports,l=i("bOQy"),u={name:"App",data:function(){return{isMobile:!1}},components:{horizontalWarning:o},computed:{tilesLength:function(){return null==this.$store.getters.tiles?0:this.$store.getters.tiles.length}},created:function(){this.$store.dispatch("initGame"),this.isMobile=l.a.isMobile()}},c={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"AppHeight",class:[{isDesktop:!this.isMobile},{isMobile:this.isMobile&&this.tilesLength>1},{shutTheBox:1==this.tilesLength},{container:!this.isMobile}],attrs:{id:"app"}},[t("div",{staticClass:"router"},[t("transition",{attrs:{name:"fade",mode:"out-in"}},[t("router-view")],1)],1),this._v(" "),t("div",{staticClass:"warning"},[t("horizontal-warning")],1)])},staticRenderFns:[]},d=i("VU/8")(u,c,!1,null,null,null).exports,m=i("YaEn"),h=i("Sazm"),f=i.n(h),g=i("NYxO"),p=i("2mV7");a.a.use(g.a);var v=new g.a.Store({modules:p.default,strict:!1}),b=(i("D/PP"),i("D4uH")),S=i("TxU5"),T=(i("0KfL"),i("+L70"),i("Wg3x"),i("IZMb")),E=i.n(T);a.a.component("icon",b.a);var _=S.firebaseCfg;a.a.config.productionTip=!1,i("cIrB").init({refreshDebounceWait:500}),a.a.use(E.a,{theme:"primary",position:"bottom-center",duration:5e3,action:{text:"x",onClick:function(e,t){t.goAway(0)}}}),new a.a({el:"#app",router:m.a,store:v,created:function(){var e=this;f.a.initializeApp(_),f.a.auth().onAuthStateChanged(function(t){t?(e.$store.commit("SET_AUTH",!0),e.$store.commit("SET_USER",s()({},t.toJSON()))):(e.$store.commit("SET_AUTH",!1),e.$store.commit("SET_USER",null))})},components:{App:d},template:"<App/>"})},PBss:function(e,t){},TxU5:function(e,t){e.exports={firebaseCfg:{apiKey:"AIzaSyCAmuQyyUhGBA3Zyh2VXSHstZs0C-kHhyk",authDomain:"shutthebox-app.firebaseapp.com",databaseURL:"https://shutthebox-app.firebaseio.com",projectId:"shutthebox-app",storageBucket:"shutthebox-app.appspot.com",messagingSenderId:"872127545262"}}},WbQI:function(e,t){},Wg3x:function(e,t){},YaEn:function(e,t,i){"use strict";var n=i("7+uW"),s=i("/ocq"),a=i("7YgM"),r={name:"app",data:function(){return{version:a.version}},methods:{setGame:function(e,t,i){this.$router.push({name:"Game",params:{level:i||1,size:e,bool:t}})}},mounted:function(){window.addToHomescreen({maxDisplayCount:1,displayPace:0,skipFirstVisit:!1})}},o={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"init"},[n("div",{staticClass:"mb-4"},[n("img",{staticClass:"logo",attrs:{src:i("r1rV")}}),e._v(" "),n("span",{staticClass:"version"},[e._v("v"+e._s(e.version))])]),e._v(" "),n("div",{staticClass:"mb-1"},[n("button",{staticClass:"btn bg-teal hover:bg-teal-dark",on:{click:function(t){e.setGame(1,!1,1)}}},[e._v("Beginner")])]),e._v(" "),n("div",{staticClass:"mb-1"},[n("button",{staticClass:"btn bg-blue hover:bg-blue-dark",on:{click:function(t){e.setGame(9,!0,2)}}},[e._v("Medium")])]),e._v(" "),n("div",{staticClass:"mb-1"},[n("button",{staticClass:"btn bg-red-dark hover:bg-red-darkest",on:{click:function(t){e.setGame(9,!1,3)}}},[e._v("Ninja")])]),e._v(" "),n("div",[n("button",{staticClass:"btn bg-yellow-dark hover:bg-yellow-darkest",on:{click:function(t){e.alert("work in progress")}}},[e._v("Top Scores"),n("icon",{attrs:{name:"star-o"}})],1)])])},staticRenderFns:[]},l=i("VU/8")(r,o,!1,null,null,null).exports,u=i("bOdI"),c=i.n(u),d=(i("PBss"),i("Dd8w")),m=i.n(d),h=i("NYxO"),f=i("Hcub"),g=i.n(f),p={props:{isAudio:{type:Boolean,required:!1},value:{type:Number,required:!0},title:{type:String,required:!1}},data:function(){return{tweeningValue:0,isFinished:!1}},watch:{value:function(e,t){this.tween(t,e)}},mounted:function(){this.tween(0,this.value)},methods:{tween:function(e,t){var i=this;this.isFinished=e>t;var n=new g.a.Tween({tweeningValue:e}).to({tweeningValue:t},500).onUpdate(function(){i.tweeningValue=this.tweeningValue.toFixed(0)}).start();!function e(){g.a.update()&&requestAnimationFrame(e)}();var s=this;n.onComplete(function(){s.isFinished=!0})}}},v={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{position:"relative"}},[i("div",{staticClass:"position",class:{explosion:e.isFinished}}),e._v(" "),i("div",{staticClass:"value"},[e._v(e._s(e.tweeningValue))]),e._v(" "),i("div",{staticClass:"title"},[e._v(e._s(e.title))])])},staticRenderFns:[]};var b=i("VU/8")(p,v,!1,function(e){i("aecg")},"data-v-3a41f11a",null).exports,S={methods:m()({},Object(h.b)({login:"login",logout:"logout"})),computed:m()({},Object(h.c)({isAuthenticated:"isAuthenticated",user:"user"}),{abbreviations:function(){return null!=this.$store.getters.user.displayName?this.$store.getters.user.displayName.charAt(0).toUpperCase():this.$store.getters.user.email.charAt(0).toUpperCase()},game:function(){return this.$store.getters.game},gameLevel:function(){return this.$store.getters.gameLevel},gameTotal:function(){return this.$store.getters.sumTilesTaken}}),components:{appNumber:b}},T={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"header"},[i("div",{staticClass:"icon"},[i("div",{staticClass:"w-12"},[i("router-link",{staticClass:"btn bg-green-light",attrs:{to:"/login"}},[e.isAuthenticated?[e._v("          \n                   "+e._s(e.abbreviations)+"\n                 ")]:[i("icon",{attrs:{name:"user"}})]],2)],1)]),e._v(" "),i("div",{staticClass:"body"},[i("div",{staticClass:"flex-no-grow",staticStyle:{"margin-top":"5px"}},[i("app-number",{attrs:{title:"Play",value:e.game.numberPlay}})],1),e._v(" "),e._m(0),e._v(" "),i("div",{staticClass:"flex-no-grow",staticStyle:{"margin-top":"5px"}},[i("app-number",{attrs:{title:"Total",value:e.gameTotal}})],1)]),e._v(" "),i("div",{staticClass:"icon"},[i("router-link",{staticClass:"float-right btn bg-red-light",attrs:{to:"/"}},[i("icon",{attrs:{name:"times"}})],1)],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"flex-grow header-logo",staticStyle:{"margin-top":"-5px"}},[t("img",{staticClass:"logo",staticStyle:{width:"100%"},attrs:{src:i("r1rV")}})])}]},E=i("VU/8")(S,T,!1,null,null,null).exports,w=(i("bOQy"),{props:["tiles","diceSumUp"],computed:{tileSum:function(){return _.sum(this.tiles.map(function(e){return e.index}))}}}),A={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.tiles.length>0?i("transition-group",{staticClass:"game-tiles",attrs:{duration:300,name:"flip-list",tag:"div"}},e._l(e.tiles,function(t){return i("div",{key:t.id},[i("div",{staticClass:"selectedTile",class:[t.cssClass,"animated flip"]},[e._v("\n                "+e._s(t.index)+"\n            ")])])})):[i("div",{staticClass:"mt-4"},[e._v("\n             Select tiles that sum up "),i("b",[e._v(e._s(e.diceSumUp))])])]],2)},staticRenderFns:[]};var x={computed:{windowHeight:function(){return window.innerHeight},selectedTilesObj:function(){return _.filter(_.flatten(this.$store.getters.tiles),function(e){return 1==e.isInUse&&0==e.isCollateral})},diceSum:function(){return _.sum(_.filter(this.game.dice,function(e){return 1==e.isAvailable}).map(function(e){return e.number}))},gameAllowSounds:function(){return this.$store.getters.gameAllowSounds},game:function(){return this.$store.getters.game},gameIsLoading:function(){return this.$store.getters.gameIsLoading},volumeIcon:function(){return this.gameAllowSounds?"volume-up":"volume-down"},buttonGameStateMessage:function(){switch(this.game.state){case"isNext":return"ROLL DICE";case"isOver":return"GAME OVER";case"isStart":return"START GAME";case"isWin":return"SHUT THE BOX"}},buttonGameStateColour:function(){switch(this.game.state){case"isNext":case"isWin":case"isStart":return"bg-green-light hover:bg-green-dark";case"isOver":return"bg-red-light hover:bg-red-lighter"}},buttonGameStateIcon:function(){if(this.gameIsLoading)return"refresh";switch(this.game.state){case"isNext":return"arrow-right";case"isOver":return"times";case"isStart":return"arrow-right";case"isWin":return"check"}}},methods:{gameState:function(){this.gameIsLoading||this.gameAction()},toogleSound:function(){this.$store.dispatch("toogleSound")},gameAction:function(){var e=this;this.$store.commit("SET_IS_LOADING",!0),setTimeout(function(){switch(e.game.state){case"isNext":e.initNextGame();break;case"isOver":e.restartGame(!0);break;case"isStart":e.initStartGame();break;case"isWin":e.restartGame(!0)}},100)},initStartGame:function(){var e=this;e.$store.dispatch("startGame").then(function(){e.$store.dispatch("setTiles",!0).then(function(){e.$store.commit("SET_IS_LOADING",!1)})})},initNextGame:function(){var e=this;e.$store.dispatch("nextGame").then(function(){e.$store.dispatch("setTiles",!0).then(function(){e.$store.commit("SET_IS_LOADING",!1)})})},restartGame:function(e){var t=this;t.$store.dispatch("restartGame",!0).then(function(){t.$store.dispatch("setTiles",e)})}},components:{selectedTiles:i("VU/8")(w,A,!1,function(e){i("WbQI")},"data-v-4c331603",null).exports}},I={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"footer"},[i("div",{staticClass:"w-1/6"},[i("a",{staticClass:"btn bg-blue-light",attrs:{href:"#"},on:{click:function(t){e.restartGame()}}},[i("icon",{attrs:{name:"refresh"}})],1)]),e._v(" "),i("div",{staticClass:"w-2/3 text-center"},[i("div",{staticClass:"footer-btn"},[e.buttonGameStateMessage?i("button",{key:e.game.state,staticClass:"button animated",class:[{shake:"isOver"==e.game.state},{fadeIn:"isOver"!=e.game.state},e.buttonGameStateColour],attrs:{unselectable:"on"},on:{"~click":function(t){return t.preventDefault(),t.stopPropagation(),e.gameState(t)}}},[i("div",{staticClass:"icon"},[e.gameIsLoading?i("icon",{attrs:{spin:"",name:e.buttonGameStateIcon}}):i("icon",{attrs:{name:e.buttonGameStateIcon}})],1),e._v(" "),i("div",{staticClass:"body"},[e._v("\n                     "+e._s(e.buttonGameStateMessage)+"\n                 ")])]):[i("selected-tiles",{attrs:{diceSumUp:e.diceSum,tiles:e.selectedTilesObj}})]],2)]),e._v(" "),i("div",{staticClass:"w-1/6"},[i("a",{staticClass:"float-right btn bg-yellow-light",attrs:{href:"#"},on:{click:e.toogleSound}},[i("icon",{attrs:{name:e.volumeIcon}})],1)])])},staticRenderFns:[]},y=i("VU/8")(x,I,!1,null,null,null).exports,C={props:{value:{type:Number,required:!0}},computed:{diceHtml:function(){return"&#x268"+(Math.abs(this.tweeningValue-1)<0?0:Math.abs(this.tweeningValue-1))}},data:function(){return{tweeningValue:0,isFinished:!1}},watch:{value:function(e,t){this.tween(t,e)}},mounted:function(){this.tween(0,this.value)},methods:{tween:function(e,t){var i=this;this.isFinished=!1;var n=new g.a.Tween({tweeningValue:e}).to({tweeningValue:t},300).onUpdate(function(){i.tweeningValue=this.tweeningValue.toFixed(0)}).start();!function e(){g.a.update()&&requestAnimationFrame(e)}();var s=this;n.onComplete(function(){s.isFinished=!0})}}},k={render:function(){var e=this.$createElement;return(this._self._c||e)("span",{domProps:{innerHTML:this._s(this.diceHtml)}})},staticRenderFns:[]};var U={computed:{game:function(){return this.$store.getters.game},diceSum:function(){return this.$store.getters.diceSum},sumTilesInUse:function(){return this.$store.getters.sumTilesInUse},gameBonus:function(){return this.$store.getters.gameBonus},gamePoints:function(){return this.$store.getters.gamePoints}},components:{appDice:i("VU/8")(C,k,!1,function(e){i("edLM")},"data-v-58a445b1",null).exports,appNumber:b}},M={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"dice"},[e._m(0),e._v(" "),i("div",{staticClass:"w-2/3 flex"},[i("div",{staticClass:"flex-no-grow"},[i("app-number",{attrs:{title:"Bonus",value:e.gameBonus}})],1),e._v(" "),i("div",{staticClass:"flex-grow ",class:[{blocked:e.game.diceInUse||"isStart"==!e.game.state&&"isNext"==e.game.state}],staticStyle:{"margin-top":"-10px",position:"relative"},attrs:{unselectable:"on"}},[""==e.game.state?i("div",{staticClass:"diceSumUp"},[e._v(e._s(e.diceSum))]):e._e(),e._v(" "),e._l(e.game.dice,function(e){return i("app-dice",{key:e.id,attrs:{value:e.number}})}),e._v(" "),e.sumTilesInUse!=e.diceSum&&e.diceSum-e.sumTilesInUse!=e.diceSum?i("div",{staticClass:"diceSumUpLeft"},[e._v(e._s(e.diceSum-e.sumTilesInUse))]):e._e()],2),e._v(" "),i("div",{staticClass:"flex-no-grow"},[i("app-number",{attrs:{title:"Points",value:e.gamePoints}})],1)]),e._v(" "),e._m(1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"w-1/6"},[t("div",{staticClass:"w-12"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"w-1/6"},[t("div",{staticClass:"w-12"})])}]},L=i("VU/8")(U,M,!1,null,null,null).exports,G=i("Xxa5"),z=i.n(G),B=i("woOf"),N=i.n(B),V=i("exGp"),O=i.n(V),D={props:["tiles","index","allTiles","clickAudio"],computed:{diceSum:function(){return this.$store.getters.diceSum},sumTilesInUse:function(){return this.$store.getters.sumTilesInUse},gameAllowSounds:function(){return this.$store.getters.gameAllowSounds}},data:function(){return{gameTileHeightSize:30,gameTileWidthSize:30,isHide:!1}},methods:{handleWindowResize:function(){var e=this.allTiles.length>1?this.allTiles.length:3;e<=0&&(e=1);var t=Math.round(_.toSafeInteger(document.querySelector(".AppHeight").scrollHeight)-(_.toSafeInteger(document.querySelector(".header").clientHeight)+_.toSafeInteger(document.querySelector(".footer").clientHeight)+_.toSafeInteger(document.querySelector(".dice").clientHeight)));this.gameTileHeightSize=Math.round(t/e)-9,this.gameTileWidthSize=Math.round(_.toSafeInteger(document.querySelector("#Game").offsetWidth)/e)-9,this.gameTileHeightSize>this.gameTileWidthSize&&(this.gameTileHeightSize=this.gameTileWidthSize)},selectTile:function(e,t,i){if(e.isAvailable&&!e.isTaken&&this.sumTilesInUse+e.index<=this.diceSum){this.clickAudio&&this.gameAllowSounds&&(this.clickAudio.load(),this.clickAudio.play());var n=this.allTiles.length;this.index;if(this.index>1)for(var s=this.index-1;s>-1&&(this.allTiles[s][t].index==e.index&&!this.allTiles[s][t].isTaken);s--)this.setTile(this.allTiles[s][t],s);else 1==this.index&&(this.allTiles[0][t].index!=e.index||this.allTiles[0][t].isTaken||this.setTile(this.allTiles[0][t],0));for(s=this.index+1;s<n&&(this.allTiles[s][t].index==e.index&&!this.allTiles[s][t].isTaken);s++)this.setTile(this.allTiles[s][t],s);this.setTile(e,i)}else this.setTileShake(e,i)},setTileShake:function(e,t){var i=this;return O()(z.a.mark(function n(){var s;return z.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return(s=N()({},e)).action="shake",s.isCollateral=t!=i.index,i,n.next=6,i.$store.dispatch("setTileByIndex",{tile:s,index:t}).then(function(){setTimeout(function(){var n=N()({},e);n.action="",i.$store.dispatch("setTileByIndex",{tile:n,index:t})},200)});case 6:case"end":return n.stop()}},n,i)}))()},setTile:function(e,t){var i=this;return O()(z.a.mark(function n(){var s,a;return z.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return(s=N()({},e)).action="rotateIn",s.isExplosion=!0,s.isInUse=!0,s.isCollateral=t!=i.index,a=i,n.next=8,i.$store.dispatch("setTileByIndex",{tile:s,index:t}).then(function(){i.$store.dispatch("sumTilesInUse"),setTimeout(function(){var n=N()({},e);n.action="",n.isExplosion=!1,i.$store.dispatch("setTileByIndex",{tile:n,index:t}).then(function(){a.changeTile(t,e.id)})},500)});case 8:case"end":return n.stop()}},n,i)}))()},changeTile:function(e,t){var i=this;i.$store.commit("SET_IS_LOADING",!0),this.$store.dispatch("moveTiles",{tileIndex:e,id:t}).then(function(){i.$store.dispatch("setTiles",e==i.index).then(function(){i.$store.commit("SET_IS_LOADING",!1)})})}},beforeDestroy:function(){window.removeEventListener("resize",_.debounce(this.handleWindowResize,500))},mounted:function(){window.addEventListener("resize",_.debounce(this.handleWindowResize,500)),this.handleWindowResize()}},R={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition-group",{staticClass:"game-tiles",attrs:{duration:300,name:"flip-list",tag:"div"}},e._l(e.tiles,function(t,n){return i("div",{key:t.id},[i("div",{staticClass:"tile ",class:[t.cssClass,{isHide:e.isHide},{isAvailable:t.isAvailable},{isNotAvailable:!t.isAvailable},{isTaken:t.isTaken},{isCollateral:t.isCollateral},{isInUse:t.isInUse},"animated "+t.action],style:{height:e.gameTileHeightSize+"px",width:e.gameTileWidthSize+"px"},on:{click:function(i){e.selectTile(t,n,e.index)}}},[i("div",{staticClass:" number",class:{"vertical-center":e.allTiles.length>1},style:{"line-height":e.gameTileHeightSize+"px"}},[e._v(e._s(t.index))])])])}))},staticRenderFns:[]};var H,W=i("VU/8")(D,R,!1,function(e){i("E+Jc")},"data-v-667e1bf0",null).exports,F=(H={name:"Game",props:{size:{type:Number,default:"1"},bool:{type:Boolean,default:!1}},methods:{handleWindowResize:function(){this.gameTileHeightSize=Math.round(document.querySelector(".AppHeight").scrollHeight-(document.querySelector(".header").clientHeight+document.querySelector(".footer").clientHeight+document.querySelector(".dice").clientHeight))}},data:function(){return{gameTileHeightSize:0}}},c()(H,"props",["size","bool"]),c()(H,"computed",{tilesObj:function(){return null==this.$store.getters.tiles?{}:this.$store.getters.tiles}}),c()(H,"components",{appHeader:E,appFooter:y,appDice:L,appTiles:W}),c()(H,"created",function(){this.clickAudio=new Audio(document.querySelector("#click").src),this.$route.params.level?(this.$store.dispatch("initTiles",{size:this.size,isRandom:this.bool}),this.$store.dispatch("restartGame"),this.$store.commit("SET_GAME_IS_VISIBLE",!0)):this.$router.push({path:"init"})}),c()(H,"beforeDestroy",function(){window.removeEventListener("resize",_.debounce(this.handleWindowResize,500))}),c()(H,"mounted",function(){window.addEventListener("resize",_.debounce(this.handleWindowResize,500)),this.handleWindowResize()}),H),P={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"Game"}},[i("app-header"),e._v(" "),i("div",{staticClass:"game-body",style:{height:e.gameTileHeightSize+"px"}},[i("div",{staticClass:"vertical-center"},e._l(e.tilesObj,function(t,n){return i("app-tiles",{key:t.index,attrs:{index:n,allTiles:e.tilesObj,tiles:t,clickAudio:e.clickAudio}})}))]),e._v(" "),i("app-dice"),e._v(" "),i("app-footer")],1)},staticRenderFns:[]},j=i("VU/8")(F,P,!1,null,null,null).exports,Y=i("Sazm"),q=i.n(Y),Q={name:"login",data:function(){return{email:"",password:"",gameTileHeightSize:0}},methods:{handleWindowResize:function(){this.gameTileHeightSize=Math.round(_.toSafeInteger(document.querySelector(".AppHeight")?document.querySelector(".AppHeight").scrollHeight:0)-(_.toSafeInteger(document.querySelector(".header")?document.querySelector(".header").clientHeight:0)+_.toSafeInteger(document.querySelector(".footer")?document.querySelector(".footer").clientHeight:0)+_.toSafeInteger(document.querySelector(".dice")?document.querySelector(".dice").clientHeight:0)))},signIn:function(){var e=this;q.a.auth().signInWithEmailAndPassword(this.email,this.password).then(function(t){e.$toasted.success("Logged on as "+e.email),e.$router.replace("game")},function(t){e.$toasted.error(t.message)}).catch(function(t){e.$toasted.error(t.message)}).then(function(){})}},created:function(){},beforeDestroy:function(){window.removeEventListener("resize",_.debounce(this.handleWindowResize,500))},mounted:function(){window.addEventListener("resize",_.debounce(this.handleWindowResize,500)),this.handleWindowResize()},components:{appHeader:E}},Z={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"login",attrs:{id:"Game"}},[i("app-header"),e._v(" "),i("div",{staticClass:"game-body",style:{height:e.gameTileHeightSize+"px"}},[i("div",{staticClass:"vertical-center"},[i("div",{staticClass:"container mx-auto h-full flex justify-center items-center"},[i("div",[i("div",{staticClass:"border-teal p-8 border-t-12 bg-white mb-6 rounded-lg shadow-lg"},[i("div",{staticClass:"mb-4"},[i("label",{staticClass:"font-bold text-grey-darker block mb-2"},[e._v("Email")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"block appearance-none w-full bg-white border border-grey-light hover:border-grey px-2 py-2 rounded shadow",attrs:{type:"email",required:"",placeholder:"Your Email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"mb-4"},[i("label",{staticClass:"font-bold text-grey-darker block mb-2"},[e._v("Password")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"block appearance-none w-full bg-white border border-grey-light hover:border-grey px-2 py-2 rounded shadow",attrs:{type:"password",required:"",placeholder:"Your Password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"flex items-center justify-between"},[i("button",{staticClass:"bg-teal-dark hover:bg-teal text-white font-bold py-2 px-4 rounded",on:{click:e.signIn}},[e._v("\n                          Login\n                      ")])])]),e._v(" "),i("div",{staticClass:"text-center"},[i("p",{staticClass:"text-grey-dark text-sm"},[e._v("Don't have an account? \n                    "),i("router-link",{staticClass:"no-underline text-blue font-bold",attrs:{to:"/sign-up"}},[e._v("Create an Account")])],1)])])])])])],1)},staticRenderFns:[]},J=i("VU/8")(Q,Z,!1,null,null,null).exports,$={name:"signUp",data:function(){return{email:"",password:"",gameTileHeightSize:0}},methods:{handleWindowResize:function(){this.gameTileHeightSize=Math.round(_.toSafeInteger(document.querySelector(".AppHeight")?document.querySelector(".AppHeight").scrollHeight:0)-(_.toSafeInteger(document.querySelector(".header")?document.querySelector(".header").clientHeight:0)+_.toSafeInteger(document.querySelector(".footer")?document.querySelector(".footer").clientHeight:0)+_.toSafeInteger(document.querySelector(".dice")?document.querySelector(".dice").clientHeight:0)))},signUp:function(){var e=this;q.a.auth().createUserWithEmailAndPassword(this.email,this.password).then(function(t){e.$router.replace("game")},function(e){alert("Oops. "+e.message)})}},beforeDestroy:function(){window.removeEventListener("resize",_.debounce(this.handleWindowResize,500))},mounted:function(){window.addEventListener("resize",_.debounce(this.handleWindowResize,500)),this.handleWindowResize()},components:{appHeader:E}},K={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"sign-up"},[i("app-header"),e._v(" "),i("div",{staticClass:"game-body",style:{height:e.gameTileHeightSize+"px"}},[i("div",{staticClass:"vertical-center"},[i("div",{staticClass:"container mx-auto h-full flex justify-center items-center"},[i("div",[i("div",{staticClass:"border-teal p-8 border-t-12 bg-white mb-6 rounded-lg shadow-lg"},[i("div",{staticClass:"mb-4"},[i("label",{staticClass:"font-bold text-grey-darker block mb-2"},[e._v("Username or Email")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"block appearance-none w-full bg-white border border-grey-light hover:border-grey px-2 py-2 rounded shadow",attrs:{autocomplete:"off",type:"text",placeholder:"Your Username"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"mb-4"},[i("label",{staticClass:"font-bold text-grey-darker block mb-2"},[e._v("Password")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"block appearance-none w-full bg-white border border-grey-light hover:border-grey px-2 py-2 rounded shadow",attrs:{autocomplete:"off",type:"password",placeholder:"Your Password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"flex items-center justify-between"},[i("button",{staticClass:"bg-teal-dark hover:bg-teal text-white font-bold py-2 px-4 rounded",on:{click:e.signUp}},[e._v("\n                       Sign Up\n                   ")])])]),e._v(" "),i("div",{staticClass:"text-center"},[i("p",{staticClass:"text-grey-dark text-sm"},[i("router-link",{staticClass:"no-underline text-blue font-bold",attrs:{to:"/login"}},[e._v("Go back to Login")])],1)])])])])])],1)},staticRenderFns:[]},X=i("VU/8")($,K,!1,null,null,null).exports;n.a.use(s.a);t.a=new s.a({base:"/shutTheCube/",routes:[{path:"*",redirect:"/init"},{path:"/init",name:"Init",component:l},{path:"/game/:level?",name:"Game",component:j,props:!0},{path:"/login",name:"Login",component:J},{path:"/sign-up",name:"SignUp",component:X}]})},aecg:function(e,t){},bOQy:function(e,t,i){"use strict";var n=i("woOf"),s=i.n(n),a=i("M4fF"),r=i("CX9+"),o={isAvailable:!1,isInUse:!1,isTaken:!1,isCollateral:!1,isExplosion:!1,action:"",cssClass:"bg-blue-light"};t.a={shuffle:function(e){return a.isObject(e)?a.shuffle(e):e},shuffleTiles:function(e){return a.map(e,this.shuffle)},createTiles:function(e,t,i){for(var n=[],r=0;r<e;r++)n.push(a.extend({index:r+1,id:this.createGuid()},o));n=a.map(n,this.cssClassColour);var l=[];for(r=0;r<t;r++)l.push(this.shuffle(n));var u=[];for(r=0;r<l.length;r++){for(var c=[],d=0;d<l[r].length;d++){var m=s()({},l[r][d]);m.id=this.createGuid(),m.isTaken=!!i&&a.sample([!0,!1]),m.isAvailable=m.isTaken,c.push(m)}u.push(c)}return u},createGuid:function(){return this.guidByteGenerator()+this.guidByteGenerator()+"-"+this.guidByteGenerator()+"-"+this.guidByteGenerator()+"-"+this.guidByteGenerator()+"-"+this.guidByteGenerator()+this.guidByteGenerator()+this.guidByteGenerator()},guidByteGenerator:function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)},cssClassColour:function(e){switch(e.index){case 1:e.cssClass="bg-green-lighter";break;case 2:e.cssClass="bg-purple-lighter";break;case 3:e.cssClass="bg-blue-light";break;case 4:e.cssClass="bg-purple-light";break;case 5:e.cssClass="bg-yellow-lighter";break;case 6:e.cssClass="bg-indigo-lighter";break;case 7:e.cssClass="bg-red-light";break;case 8:e.cssClass="bg-red-lighter";break;case 9:e.cssClass="bg-yellow-light"}return e},moveTile:function(e,t){return a.sortBy(e,function(e){return e.id===t||e.isTaken?1:0})},isMobile:function(){return!!(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i))},sumString:function(e){return void 0!=e?a.sumBy(e.split(""),function(e){return parseFloat(e)}):0},getTilesCombinations:function(e,t){var i=a.sortBy(a.filter(a.map(a.flatMapDeep(e,function(e){return a.flatMapDeep(e,function(e){return!e.isInUse&&!e.isTaken&&e.index<=t&&e.index})}),function(e,t){return e}),function(e){return e}),function(e){return e}),n=a.groupBy(i,Math.floor),s=[];a.each(n,function(e,i){var n=[],r=0;a.each(e,function(e){(r+=e)<=t&&n.push(e)}),n.length>1&&s.push(n)});var o=a.without(a.uniq(a.flatMapDeep(e,function(e){return a.flatMapDeep(e,function(e){if(!e.isInUse&&!e.isTaken)return e.index})})),void 0),l=a.uniqWith(r.power(a.flatMapDeep(s)).lazyFilter(function(e){return a.toSafeInteger(a.sum(e))==t}).toArray(),a.isEqual),u=a.uniqWith(r.power(a.flatMapDeep(o)).lazyFilter(function(e){return a.toSafeInteger(a.sum(e))==t}).toArray(),a.isEqual);return a.concat(u,l)},getTilesIndexCombinations:function(e,t){var i=a.without(a.uniq(a.flatMapDeep(e,function(e){return a.flatMapDeep(e,function(e){if(!e.isInUse&&!e.isTaken)return e.index})})),void 0),n=a.sortBy(a.filter(a.map(a.flatMapDeep(e,function(e){return a.flatMapDeep(e,function(e){return!e.isInUse&&!e.isTaken&&e.index<=t&&e.index})}),function(e,t){return e}),function(e){return e}),function(e){return e}),s=a.uniqWith(r.power(a.flatMapDeep(i)).lazyFilter(function(e){return a.toSafeInteger(a.sum(e))==t}).toArray(),a.isEqual),o=a.groupBy(n,Math.floor),l=[];a.each(o,function(e,i){var n=[],r=0;a.each(e,function(e){(r+=e)<=t&&n.push(e)}),0==a.intersection(a.flatMap(s),n).length&&l.push(n)});var u=a.uniqWith(r.power(a.flatMapDeep(l)).lazyFilter(function(e){return a.toSafeInteger(a.sum(e))==t}).toArray(),a.isEqual);return a.uniq(a.flatMapDeep(a.concat(s,u)))}}},edLM:function(e,t){},g2YT:function(e,t){},gNcp:function(e,t,i){var n={"./auth.js":"D+VX","./game.js":"yI0o","./index.js":"2mV7","./tiles.js":"kYWG"};function s(e){return i(a(e))}function a(e){var t=n[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}s.keys=function(){return Object.keys(n)},s.resolve=a,e.exports=s,s.id="gNcp"},kYWG:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("//Fk"),s=i.n(n),a=i("woOf"),r=i.n(a),o=i("bOQy"),l=i("M4fF"),u=i.n(l),c={SET_TILES:function(e,t){e.tiles=t},RESTART_TILES:function(e){e.tiles.forEach(function(e){e.forEach(function(e){e.isAvailable=!1,e.isInUse=!1,e.isTaken=!1})})},RESET_IN_USE_TILES:function(e){e.tiles.forEach(function(e){e.forEach(function(e){e.isInUse&&(e.isInUse=!1)})})},RESET_NOT_TAKEN_TILES:function(e){e.tiles.forEach(function(e){e.forEach(function(e){e.isTaken||(e.isAvailable=!0,e.isInUse=!1)})})},RESET_AVAILABLE_TILES:function(e){e.tiles.forEach(function(e){e.forEach(function(e){e.isTaken||e.isInUse||(e.isAvailable=!0)})})},SET_AVAILABLE_TILES:function(e,t){e.tiles.forEach(function(e){e.forEach(function(e){u.a.findLast(t,function(t){e.id,t.id})?e.isAvailable=!0:e.isAvailable=!1})})},SET_INUSE_TILES:function(e,t){e.tiles.forEach(function(e){e.forEach(function(e){e.isInUse&&(e.isTaken=!0,e.isInUse=!1),e.isAvailable=!1})})},SELECT_TILE:function(e,t){if(t){var i=e.tiles.tiles,n=u.a.findLast(i,function(e){return e.id==t});n&&(!n.isAvailable||n.isInUse||n.isTaken||(n.isAvailable=!1,n.isInUse=!0))}},SET_TILE_BY_INDEX:function(e,t){if(t&&t.index>=0){var i=u.a.findIndex(e.tiles[t.index],function(e){return e.id==t.tile.id});i>=0&&r()(e.tiles[t.index][i],t.tile)}},SET_TILES_BY_INDEX:function(e,t){t&&r()(e.tiles[t.index],t.tiles)},SET_TILE:function(e,t){t&&e.tiles.forEach(function(i,n){var s=u.a.findIndex(i,function(e){return e.id==t.id});s>=0&&r()(e.tiles[n][s],t)})},SET_SUM_TILES_IN_USE:function(e,t){e.sumTilesInUse=t},SET_SUM_TILES_TAKEN:function(e,t){e.sumTilesTaken=t}},d={initTiles:function(e,t){var i=e.commit,n=9,s=!1;t&&(t.size>0&&(n=t.size),t.isRandom&&(s=t.isRandom)),i("SET_TILES",o.a.createTiles(9,n,s))},shuffleTiles:function(e){var t=e.commit,i=[];e.state.tiles.forEach(function(e){i.push(o.a.shuffle(r()({},e)))}),t("SET_TILES",i)},moveTiles:function(e,t){var i=e.commit,n=e.state;return new s.a(function(e,s){if(n.tiles.length>1){var a=o.a.moveTile(r()({},n.tiles[t.tileIndex]),t.id);i("SET_TILES_BY_INDEX",{tiles:a,index:t.tileIndex})}e()})},selectTile:function(e,t){var i=e.commit,n=e.rootState;return new s.a(function(e,s){n.game.game.isOver||n.game.game.isWin||!n.game.game.diceInUse?s("did not pass criteria",n.game.game):(i("SELECT_TILE",t),e())})},setTile:function(e,t){var i=e.commit;e.state;i("SET_TILE",t)},setTileByIndex:function(e,t){var i=e.commit;e.state;return new s.a(function(e,n){i("SET_TILE_BY_INDEX",t),e()})},setIsTaken:function(e){var t=e.commit,i=e.state;e.rootState,e.dispatch;return new s.a(function(e,n){i.tiles.forEach(function(e){e.forEach(function(e){if(e.isInUse){var i=r()({},e);i.isInUse=!1,i.isTaken=!0,i.isCollateral=!1,t("SET_TILE",i)}})}),e()})},sumTilesInUse:function(e){var t=e.commit,i=e.state;return new s.a(function(e,n){var s=0;i.tiles.forEach(function(e){s+=u.a.sum(u.a.filter(e,function(e){return 1==e.isInUse&&0==e.isCollateral}).map(function(e){return e.index}))}),t("SET_SUM_TILES_IN_USE",s),e(s)})},sumTilesTaken:function(e){var t=e.commit,i=e.state;return new s.a(function(e,n){var s=0;i.tiles.forEach(function(e){s+=u.a.sum(u.a.filter(e,function(e){return 1==e.isTaken}).map(function(e){return e.index}))}),t("SET_SUM_TILES_TAKEN",s),e(s)})},setGamePoints:function(e){var t=e.commit,i=e.state;return new s.a(function(e,n){var s=0;i.tiles.forEach(function(e){s+=u.a.sum(u.a.filter(e,function(e){return 1==e.isInUse&&0==e.isCollateral}).map(function(e){return e.index}))}),t("SET_GAME_POINTS",s),e(s)})},setGameBonus:function(e){var t=e.commit,i=e.state;return new s.a(function(e,n){var s=0;i.tiles.forEach(function(e){s+=u.a.sum(u.a.filter(e,function(e){return 1==e.isInUse&&1==e.isCollateral}).map(function(e){return e.index}))}),t("SET_GAME_BONUS",s),e(s)})},setTiles:function(e,t){var i=e.commit,n=e.state,a=e.rootState,r=e.dispatch;return new s.a(function(e,s){var l=a.game.game;i("RESET_AVAILABLE_TILES");var c=u.a.sum(u.a.filter(l.dice,function(e){return 1==e.isAvailable}).map(function(e){return e.number})),d=c-n.sumTilesInUse,m=o.a.getTilesIndexCombinations(n.tiles,d);i("SET_GAME_NOTE",""),n.tiles.forEach(function(e){u.a.filter(e,function(e){return 0==e.isTaken&&0==e.isInUse}).forEach(function(e){var t={isAvailable:u.a.findIndex(m,function(t){return t==e.index})>=0,isInUse:e.isInUse,isTaken:e.isTaken,cssClass:e.cssClass,index:e.index,id:e.id},n=u.a.omitBy(t,function(t,i){return e[i]===t});u.a.isEmpty(n)||i("SET_TILE",t)})}),t&&(r("setGamePoints"),r("setGameBonus"),n.sumTilesInUse==c?r("setIsTaken").then(function(){r("sumTilesInUse").then(function(){r("sumTilesTaken").then(function(){n.sumTilesTaken==45*n.tiles.length?i("SHUT_THE_BOX"):(i("SET_GAME_NOTE","Roll the dice"),i("SET_GAME_ISNEXT",!0)),i("SET_DICE_IN_USE",!1)})})}):m.length<=0&&r("sumTilesTaken").then(function(){n.sumTilesTaken==45*n.tiles.length?i("SHUT_THE_BOX"):i("GAME_OVER",!0)})),e()})}};t.default={state:{tiles:{},sumTilesInUse:0,sumTilesTaken:0},mutations:c,actions:d,getters:{tiles:function(e){return e.tiles},sumTilesInUse:function(e){return e.sumTilesInUse},sumTilesTaken:function(e){return e.sumTilesTaken}}}},r1rV:function(e,t){e.exports="data:image/png;base64,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"},yI0o:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("//Fk"),s=i.n(n),a={points:0,isLoading:!1,state:"isStart",dice:[{id:1,number:0,html:"&#x2680",isAvailable:!0},{id:2,number:0,html:"&#x2680",isAvailable:!0}],numberPlay:0,gamePoints:0,gameBonus:0,diceInUse:!1,note:"Start Game"},r=i("M4fF"),o=i.n(r),l={SET_GAME_LEVEL:function(e,t){e.gameLevel=length},SET_GAME_ALLOW_SOUND:function(e,t){e.gameAllowSounds=t},SET_GAME:function(e,t){e.game=t},SET_GAME_IS_VISIBLE:function(e,t){e.gameIsVisible=t},SET_IS_LOADING:function(e,t){e.game.isLoading=t},SET_GAME_BONUS:function(e,t){e.game.gameBonus=t},SET_GAME_POINTS:function(e,t){e.game.gamePoints=t},SET_GAME_STATE:function(e,t){e.game.state=t},SET_GAME_ISNEXT:function(e,t){e.game.state=t?"isNext":""},START_GAME:function(e){e.game.numberPlay=0,e.game.state="",e.game.timeleft=60},SET_GAME_NOTE:function(e,t){e.game.note=t},SET_DICE_IN_USE:function(e,t){e.game.diceInUse=t},GAME_OVER:function(e){e.game.timeleft=0,e.game.note="Game Over",e.game.state="isOver",e.game.diceInUse=!1},SHUT_THE_BOX:function(e){e.game.note="Shut The Box",e.game.state="isWin",e.game.diceInUse=!1,e.game.timeleft=0},RESTART_GAME:function(e){e.game.numberPlay=0,e.game.timeleft=60,e.game.state="isStart",e.game.note="Restart Game",e.game.diceInUse=!1},ROLL_DICE:function(e){e.game.dice.forEach(function(e){e.number=Math.floor(6*Math.random()+1),e.html="&#x268"+(e.number-1)}),e.game.diceInUse=!0,e.game.numberPlay++}},u={toogleSound:function(e){(0,e.commit)("SET_GAME_ALLOW_SOUND",!e.state.gameAllowSounds)},initGame:function(e,t){var i=e.commit;i("SET_SUM_TILES_TAKEN",0),i("SET_SUM_TILES_IN_USE",0),null==t?(i("SET_GAME",a),i("SET_GAME_STATE","isStart")):i("SET_GAME",t)},startGame:function(e){var t=e.commit,i=e.dispatch;return new s.a(function(e,n){i("shuffleTiles"),t("START_GAME"),t("ROLL_DICE"),e()})},nextGame:function(e){var t=e.commit;return new s.a(function(e,i){t("RESET_NOT_TAKEN_TILES"),t("SET_GAME_ISNEXT",!1),t("ROLL_DICE"),e()})},nextPlay:function(e){var t=e.commit;return new s.a(function(e,i){t("RESET_IN_USE_TILES"),t("SET_GAME_ISNEXT",!1),t("ROLL_DICE"),e()})},restartGame:function(e,t){var i=e.commit;e.dispatch;t&&i("RESTART_TILES"),i("RESTART_GAME"),i("SET_SUM_TILES_TAKEN",0),i("SET_SUM_TILES_IN_USE",0),i("SET_IS_LOADING",!1)}},c={game:function(e){return e.game},diceSum:function(e){return o.a.sum(o.a.filter(a.dice,function(e){return 1==e.isAvailable}).map(function(e){return e.number}))},gameIsVisible:function(e){return e.gameIsVisible},gameIsLoading:function(e){return e.game.isLoading},gamePoints:function(e){return e.game.gamePoints},gameBonus:function(e){return e.game.gameBonus},gameAllowSounds:function(e){return e.gameAllowSounds},gameLevel:function(e){return e.gameLevel}};t.default={state:{game:[],gameIsVisible:!1,gameAllowSounds:!0,gameLevel:1},mutations:l,actions:u,getters:c}}},["NHnr"]);
//# sourceMappingURL=app.b9ae1d4bd296ff8f4858.js.map